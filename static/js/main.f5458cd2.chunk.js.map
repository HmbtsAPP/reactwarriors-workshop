{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/MoviePages.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","console","log","this","props","data","title","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","vote_average","type","onClick","setState","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassLink","classNames","active","MoviePages","page","total_pages","updatePage","value_page","App","getMovies","fetch","then","response","json","movies","results","movie","id","updateMovies","filter","item","updateMoviesWillWatch","moviesWillWatch","push","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f5458cd2.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  state = {\r\n    willWatch: false,\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    console.log(\"unmount\", this.props.data.title);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      deleteMovie,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch,\r\n    } = this.props;\r\n    // props.data = {};\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${\r\n            data.backdrop_path || data.poster_path\r\n          }`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false,\r\n                  });\r\n                  deleteMovieFromWillWatch(data);\r\n                }}\r\n              >\r\n                Will Watch\r\n              </button>\r\n            ) : (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: true,\r\n                  });\r\n                  addMovieToWillWatch(data);\r\n                }}\r\n              >\r\n                Will Watch\r\n              </button>\r\n            )}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              deleteMovie(data);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nclass MovieTabs extends React.Component {\r\n  // componentWillReceiveProps(nextProps, nextState) {\r\n  //   console.log(\"WillReceiveProps\");\r\n  //   console.log(\"nextProps sort_by\", nextProps.sort_by);\r\n  //   console.log(\"prevProps sort_by\", this.props.sort_by);\r\n  // }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.sort_by !== this.props.sort_by) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    //   const handleClick = (value) => {\r\n    //       return (event) => {\r\n    //     updateSortBy(value);\r\n    //   };}\r\n\r\n    const handleClick = (value) => () => {\r\n      updateSortBy(value);\r\n    };\r\n\r\n    const getClassLink = (value) => {\r\n      return classNames(\"nav-link\", { active: sort_by === value });\r\n    };\r\n    // const getClassLink = (value) => {\r\n    //   return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\r\n    // };\r\n\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            //   className={`nav-link ${\r\n            //     sort_by === \"popularity.desc\" ? \"active\" : \"\"\r\n            //   }`}\r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n            // (event) => {\r\n            //     updateSortBy(\"popularity.desc\")\r\n            // }\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n          >\r\n            Vote average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n// const MovieTabs = (props) => {\r\n\r\n// };\r\n\r\nexport default MovieTabs;\r\n","import React from \"react\";\r\n\r\nclass MoviePages extends React.Component {\r\n    \r\n    // shouldComponentUpdate(nextProps, nextState) {\r\n    //   if (nextProps.page !== this.props.page) {\r\n    //     return true;\r\n    //   } else {\r\n    //     return false;\r\n    //   }\r\n    // }\r\n\r\n  render() {\r\n    const { page, total_pages, updatePage } = this.props;\r\n    console.log(\"MoviePages pages data\", page, total_pages);\r\n\r\n    const handleClick = (value_page) => () => {\r\n      if (value_page <= total_pages && value_page >= 1 && value_page !== page) {\r\n        updatePage(value_page);\r\n        console.log(\"update Page\", value_page);\r\n      }\r\n    };\r\n    return (\r\n      <div className=\"d-flex justify-content-between\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-success\"\r\n          onClick={handleClick(page - 1)}\r\n        >\r\n          Prev Page\r\n        </button>\r\n        <p className=\"nav-item\">\r\n          Page {page} of {total_pages}\r\n        </p>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-success\"\r\n          onClick={handleClick(page + 1)}\r\n        >\r\n          Next page\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviePages;\r\n","import React from \"react\";\r\n// import { moviesData } from \"../moviesData\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\r\nimport MovieTabs from \"./MovieTabs\";\r\nimport MoviePages from \"./MoviePages\";\r\n\r\n// UI = fn(state, props)\r\n\r\n// App = new React.Component()\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: \"popularity.desc\",\r\n      page: 1,\r\n      total_pages: 0,\r\n    };\r\n\r\n    console.log(\"constructor\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"didMount\");\r\n    this.getMovies();\r\n    console.log(\"after fetch\");\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\"didUpdate\");\r\n    console.log(\"prev\", prevProps, prevState);\r\n    console.log(\"this\", this.props, this.state);\r\n    if (prevState.sort_by !== this.state.sort_by) {\r\n      console.log(\"call api update sort_by\");\r\n      this.setState({\r\n        page: 1,\r\n      });\r\n      this.getMovies();\r\n    } else {\r\n      if (prevState.page !== this.state.page) {\r\n        console.log(\"call api update page\");\r\n        this.getMovies();\r\n      }\r\n    }\r\n  }\r\n\r\n  getMovies = () => {\r\n    console.log(\"fetch page\", this.state.page);\r\n    fetch(\r\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&language=en-US&sort_by=${this.state.sort_by}&include_adult=false&include_video=false&page=${this.state.page}`\r\n    )\r\n      .then((response) => {\r\n        console.log(\"then\", this);\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(\"data\", data);\r\n        this.setState({\r\n          movies: data.results,\r\n          total_pages: data.total_pages,\r\n        });\r\n      });\r\n  };\r\n\r\n  deleteMovie = (movie) => {\r\n    console.log(movie.id);\r\n    const updateMovies = this.state.movies.filter(\r\n      (item) => item.id !== movie.id\r\n    );\r\n    console.log(updateMovies);\r\n\r\n    // this.state.movies = updateMovies;\r\n    this.setState({\r\n      movies: updateMovies,\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = (movie) => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    updateMoviesWillWatch.push(movie);\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch,\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = (movie) => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n      (item) => item.id !== movie.id\r\n    );\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch,\r\n    });\r\n  };\r\n\r\n  updateSortBy = (value) => {\r\n    this.setState({\r\n      sort_by: value,\r\n    });\r\n  };\r\n\r\n  updatePage = (value_page) => {\r\n    this.setState({\r\n      page: value_page,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(\"render\", this.state.sort_by);\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-lg-9\">\r\n            <div className=\"mb-4\">\r\n              <MoviePages\r\n                page={this.state.page}\r\n                total_pages={this.state.total_pages}\r\n                updatePage={this.updatePage}\r\n              />\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <MovieTabs\r\n                sort_by={this.state.sort_by}\r\n                updateSortBy={this.updateSortBy}\r\n              />\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map((movie) => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                      data={movie}\r\n                      deleteMovie={this.deleteMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map((movie) => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-lg-9\">\r\n            <div className=\"mb-4\">\r\n              <MoviePages\r\n                page={this.state.page}\r\n                total_pages={this.state.total_pages}\r\n                updatePage={this.updatePage}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\n\r\n// Reactwarriors API\r\n// export const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\r\n\r\nexport const API_KEY_3 = \"7aaf6ef351d01e21f439533396678291\";\r\n\r\n//Reactwarriors API\r\n// export const API_KEY_4 =\r\n//  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3YWFmNmVmMzUxZDAxZTIxZjQzOTUzMzM5NjY3ODI5MSIsInN1YiI6IjVlOGY0NjdmMTk3ZGU0MDAxYjA1ODFjNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.XKHWK4oS94aJAxMaUu1LiLTWOO6FIhysbtQnKuBfpaw\";\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}